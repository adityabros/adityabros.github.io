document.getElementById("mic_image").addEventListener("click",function(){if(curr_src=document.getElementById("mic_image").src,-1!=curr_src.indexOf("static_mic.gif")){if(!("webkitSpeechRecognition"in window))return void upgrade();document.getElementById("mic_image").src="mic.gif";var r=new webkitSpeechRecognition;r.continuous=!0,r.interimResults=!0;var e=new webkitSpeechGrammarList;e.addFromString("#JSGF V1.0; grammar colors; public <color> = hare | krishna | rama ;",1),r.grammars=e,r.start(),r.onstart=function(){console.log("I started")},r.onerror=function(r){},r.onend=function(){},r.onresult=function(r){for(var e=r.resultIndex;e<r.results.length;++e)if(r.results[e].isFinal){final_transcript+=r.results[e][0].transcript;for(var n=0,a=0,s=0,t=0;t<hare_synonyms_regex.length;t++)n+=(final_transcript.toLowerCase().match(hare_synonyms_regex[t])||[]).length;for(var i=0;i<krishna_synonyms_regex.length;i++)a+=(final_transcript.toLowerCase().match(krishna_synonyms_regex[i])||[]).length;for(var o=0;o<rama_synonyms_regex.length;o++)s+=(final_transcript.toLowerCase().match(rama_synonyms_regex[o])||[]).length;n>=8&&a>=4&&s>=4&&(document.getElementById("counts").innerHTML="Counts : "+String(++ct),document.getElementById("rounds").innerHTML="Rounds : "+String(parseInt(ct/108)),final_transcript="",n=0,a=0,s=0)}else r.results[e][0].transcript}}else document.getElementById("mic_image").src="static_mic.gif"});for(var ignore_onend,start_timestamp,create_email=!1,final_transcript="",recognizing=!1,ct=0,hare_synonyms=["hare","hurray","haray","hray","hrray","hara","har"],krishna_synonyms=["krishna","krishn","krsna","klisna","krishnaa"],rama_synonyms=["rama","raam","ram","ramaa","raamaa","rom","rome","lama","laam","lam","lamaa","laamaa"],hare_synonyms_regex=[],krishna_synonyms_regex=[],rama_synonyms_regex=[],h=0;h<hare_synonyms.length;h++){var hare_regex=new RegExp(hare_synonyms[h],"g");hare_synonyms_regex.push(hare_regex)}for(var k=0;k<krishna_synonyms.length;k++){var krishna_regex=new RegExp(krishna_synonyms[k],"g");krishna_synonyms_regex.push(krishna_regex)}for(var r=0;r<rama_synonyms.length;r++){var rama_regex=new RegExp(rama_synonyms[r],"g");rama_synonyms_regex.push(rama_regex)}function upgrade(){alert("You need to update your browser ! . Sorry :(")}