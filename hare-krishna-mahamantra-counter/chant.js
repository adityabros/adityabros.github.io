document.getElementById("mic_image").addEventListener("click",function(){if(curr_src=document.getElementById("mic_image").src,-1!=curr_src.indexOf("static_mic.gif")){if(!("webkitSpeechRecognition"in window))return void upgrade();document.getElementById("mic_image").src="mic.gif";var t=new webkitSpeechRecognition;t.continuous=!0,t.interimResults=!0;var e=new webkitSpeechGrammarList;e.addFromString("#JSGF V1.0; grammar colors; public <color> = hare | krishna | rama ;",1),t.grammars=e,t.start(),t.onstart=function(){console.log("I started")},t.onerror=function(t){},t.onend=function(){},t.onresult=function(t){for(var e=t.resultIndex;e<t.results.length;++e)if(t.results[e].isFinal){var n=((final_transcript+=t.results[e][0].transcript).match(/hare/g)||[]).length,r=(final_transcript.match(/krishna/g)||[]).length,i=(final_transcript.match(/rama/g)||[]).length;n>=8&&r>=4&&i>=4&&(document.getElementById("counts").innerHTML="Counts : "+String(++ct),document.getElementById("rounds").innerHTML="Rounds : "+String(parseInt(ct/108)),final_transcript="",n=0,r=0,i=0)}else t.results[e][0].transcript}}else document.getElementById("mic_image").src="static_mic.gif"});var ignore_onend,start_timestamp,create_email=!1,final_transcript="",recognizing=!1,ct=0;function upgrade(){alert("You need to update your browser ! . Sorry :(")}