document.getElementById("mic_image").addEventListener("click",function(){if(curr_src=document.getElementById("mic_image").src,-1!=curr_src.indexOf("static_mic.gif")){if(!("webkitSpeechRecognition"in window))return void upgrade();document.getElementById("mic_image").src="mic.gif";var r=new webkitSpeechRecognition;r.continuous=!0,r.interimResults=!0;var e=new webkitSpeechGrammarList;e.addFromString("#JSGF V1.0; grammar colors; public <color> = hare | krishna | rama ;",1),r.grammars=e,r.start(),r.onstart=function(){console.log("I started")},r.onerror=function(r){},r.onend=function(){},r.onresult=function(r){for(var e=r.resultIndex;e<r.results.length;++e)if(r.results[e].isFinal){final_transcript+=r.results[e][0].transcript;for(var a=0,t=0,n=0,i=["hare","hurray","haray","hray","hrray","hara","har"],c=["krishna","krishn","krsna","klisna","krishnaa"],o=["rama","raam","ram","ramaa","raamaa","rom","rome","lama","laam","lam","lamaa","laamaa"],s=0;s<i.length;s++){var m=new RegExp(i[s],"g");a+=(final_transcript.toLowerCase().match(m)||[]).length}for(var l=0;l<c.length;l++){var g=new RegExp(c[l],"g");t+=(final_transcript.toLowerCase().match(g)||[]).length}for(var u=0;u<o.length;u++){var d=new RegExp(o[u],"g");n+=(final_transcript.toLowerCase().match(d)||[]).length}a>=8&&t>=4&&n>=4&&(document.getElementById("counts").innerHTML="Counts : "+String(++ct),document.getElementById("rounds").innerHTML="Rounds : "+String(parseInt(ct/108)),final_transcript="",a=0,t=0,n=0)}else r.results[e][0].transcript}}else document.getElementById("mic_image").src="static_mic.gif"});var ignore_onend,start_timestamp,create_email=!1,final_transcript="",recognizing=!1,ct=0;function upgrade(){alert("You need to update your browser ! . Sorry :(")}