document.getElementById("mic_image").addEventListener("click",function(){if(curr_src=document.getElementById("mic_image").src,-1!=curr_src.indexOf("static_mic.gif")){if(!("webkitSpeechRecognition"in window))return void upgrade();document.getElementById("mic_image").src="mic.gif";var e=new webkitSpeechRecognition;e.continuous=!0,e.interimResults=!0;var r=new webkitSpeechGrammarList;r.addFromString("#JSGF V1.0; grammar colors; public <color> = hare | krishna | rama ;",1),e.grammars=r,e.start(),e.onstart=function(){console.log("I started")},e.onerror=function(e){},e.onend=function(){},e.onresult=function(e){var r="";console.log(e.results);for(var n=e.resultIndex;n<e.results.length;++n)e.results[n].isFinal?-1!=(final_transcript+=e.results[n][0].transcript).indexOf("hare krishna hare krishna krishna krishna hare hare hare rama hare rama rama rama hare hare")&&(console.log(r,ct),document.getElementById("counts").innerHTML="Counts : "+String(++ct),document.getElementById("rounds").innerHTML="Rounds : "+String(parseInt(ct/108)),final_transcript=""):r+=e.results[n][0].transcript}}else document.getElementById("mic_image").src="static_mic.gif"});var ignore_onend,start_timestamp,create_email=!1,final_transcript="",recognizing=!1,ct=0;function upgrade(){alert("You need to update your browser ! . Sorry :(")}